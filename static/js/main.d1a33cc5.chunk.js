(this["webpackJsonpsimple-trello-clone"]=this["webpackJsonpsimple-trello-clone"]||[]).push([[0],{25:function(e,t,c){},41:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),s=c(7),o=c.n(s),r=(c(25),c(2)),d=c(3),i=c(1),l=Object(n.createContext)(),j=function(e){var t=Object(n.useState)(""),c=Object(d.a)(t,2),a=c[0],s=c[1];return Object(n.useEffect)((function(){var e=setInterval((function(){var e=new Date,t=e.getHours(),c=e.getMinutes(),n=e.getSeconds(),a="AM",o=(new Date).toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric"});0==t&&(t=12),t>12&&(t-=12,a="PM"),s(o+" "+(t=t<10?"0"+t:t)+":"+(c=c<10?"0"+c:c)+":"+(n=n<10?"0"+n:n)+" "+a)}),1e3);return function(){clearInterval(e)}}),[]),Object(i.jsx)(l.Provider,{value:{time:a},children:e.children})},O=c(5),u=c.n(O);u.a.setAppElement("#root");var b=function(e){var t=Object(n.useState)(""),c=Object(d.a)(t,2),a=c[0],s=c[1],o=Object(n.useState)(""),r=Object(d.a)(o,2),l=r[0],j=r[1];return Object(i.jsxs)(u.a,{isOpen:e.isOpen,onRequestClose:e.onRequestClose,className:"addprojectmodal",children:[Object(i.jsx)("h1",{children:"Add New Project"}),Object(i.jsxs)("form",{onSubmit:function(t){e.handleAdd(t,a,l),s(""),j("")},children:[Object(i.jsxs)("div",{children:[Object(i.jsx)("label",{children:"Project Name:"}),Object(i.jsx)("input",{type:"text",value:a,name:"name",onChange:function(e){s(e.target.value)},required:!0,maxlength:"15"})]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("label",{children:"Project Description:"}),Object(i.jsx)("textarea",{value:l,name:"desc",onChange:function(e){j(e.target.value)},required:!0})]}),Object(i.jsxs)("button",{type:"submit",children:[Object(i.jsx)("i",{className:"bx bx-chevron-right-square ",id:"addlogo"}),"Add Project"]})]})]})};u.a.setAppElement("#root");var m=function(e){return Object(i.jsx)(u.a,{isOpen:e.isOpen,onRequestClose:e.onRequestClose,children:Object(i.jsx)("h1",{children:"Help"})})};u.a.setAppElement("#root");var p=function(e){return Object(i.jsx)(u.a,{isOpen:e.isOpen,onRequestClose:e.onRequestClose,children:Object(i.jsx)("h1",{children:"SETTINGS"})})},h=function(e,t){switch(t.type){case"SHOW_MODAL":return e.map((function(e){return e.id===t.id?Object.assign({},e,{display:!e.display}):e}))}},x=Object(n.createContext)(),f=function(e){var t=Object(n.useReducer)(h,[{id:"addmodal",display:!1},{id:"helpmodal",display:!1},{id:"settingsmodal",display:!1},{id:"addtodomodal",display:!1}]),c=Object(d.a)(t,2),a=c[0],s=c[1];return Object(i.jsx)(x.Provider,{value:{modals:a,dispatch:s},children:e.children})},v=c(8),g=c(4),C=c(43),E=function(e,t){var c;switch(t.type){case"ADD_PROJECT":return Object(r.a)(Object(r.a)({},e),{},{projects:Object(r.a)(Object(r.a)({},e.projects),{},Object(g.a)({},t.name,{id:t.name,title:t.name,desc:t.desc,tasks:[]})),projectList:[].concat(Object(v.a)(e.projectList),[t.name]),displayedProject:t.name});case"ADD_TASK":var n=t.project,a=Object(C.a)();return Object(r.a)(Object(r.a)({},e),{},{projects:Object(r.a)(Object(r.a)({},e.projects),{},Object(g.a)({},n,Object(r.a)(Object(r.a)({},e.projects[n]),{},{tasks:[].concat(Object(v.a)(e.projects[n].tasks),[a])}))),columns:Object(r.a)(Object(r.a)({},e.columns),{},Object(g.a)({},a,{id:a,name:t.name,todoIds:[]})),columnOrder:[].concat(Object(v.a)(e.columnOrder),[a])});case"ADD_TODO":var s=Object(C.a)();return Object(r.a)(Object(r.a)({},e),{},{columns:Object(r.a)(Object(r.a)({},e.columns),{},Object(g.a)({},t.columnname,Object(r.a)(Object(r.a)({},e.columns[t.columnname]),{},{todoIds:[].concat(Object(v.a)(e.columns[t.columnname].todoIds),[s])}))),todos:Object(r.a)(Object(r.a)({},e.todos),{},Object(g.a)({},s,{id:s,name:t.name,desc:t.desc}))});case"CHANGE_SELECTED_TASK":return Object(r.a)(Object(r.a)({},e),{},{selectedTask:t.ids});case"CHANGE_PROJECT":return Object(r.a)(Object(r.a)({},e),{},{columnOrder:Object(v.a)(e.projects[t.selected].tasks),displayedProject:t.selected});case"CHANGE_ORDER_TODO_SAME":return Object(r.a)(Object(r.a)({},e),{},{columns:Object(r.a)(Object(r.a)({},e.columns),{},Object(g.a)({},t.newColumn.id,t.newColumn))});case"CHANGE_ORDER_TODO":return Object(r.a)(Object(r.a)({},e),{},{columns:Object(r.a)(Object(r.a)({},e.columns),{},(c={},Object(g.a)(c,t.newStart.id,t.newStart),Object(g.a)(c,t.newFinish.id,t.newFinish),c))});case"CHANGE_ORDER_TASK":return Object(r.a)(Object(r.a)({},e),{},{projects:Object(r.a)(Object(r.a)({},e.projects),{},Object(g.a)({},e.displayedProject,Object(r.a)(Object(r.a)({},e.projects[e.displayedProject]),{},{tasks:t.newColumnOrder}))),columnOrder:t.newColumnOrder});case"REMOVE_TODO":return Object(r.a)(Object(r.a)({},e),{},{columns:Object(r.a)(Object(r.a)({},e.columns),{},Object(g.a)({},t.columnid,Object(r.a)(Object(r.a)({},e.columns[t.columnid]),{},{todoIds:t.newColumn}))),todos:t.newTodos});case"REMOVE_TASK":return Object(r.a)(Object(r.a)({},e),{},{projects:Object(r.a)(Object(r.a)({},e.projects),{},Object(g.a)({},t.project,Object(r.a)(Object(r.a)({},e.projects[t.project]),{},{tasks:t.newTasks}))),columns:t.newColumn,todos:t.newTodos,columnOrder:t.newColumnOrder});case"REMOVE_PROJECT":return Object(r.a)(Object(r.a)({},e),{},{projects:t.newProjects,columns:t.newColumns,todos:t.newTodos,columnOrder:[],projectList:t.newProjectList});case"CHANGE_THEME":return Object(r.a)(Object(r.a)({},e),{},{theme:t.theme})}},y=Object(n.createContext)(),k=function(e){var t=Object(n.useReducer)(E,{projects:{},columns:{},todos:{},columnOrder:[],projectList:[],displayedProject:"",selectedTask:"",theme:"light"},(function(){var e=localStorage.getItem("items");return e?JSON.parse(e):{projects:{},columns:{},todos:{},columnOrder:[],projectList:[],displayedProject:"",selectedTask:""}})),c=Object(d.a)(t,2),a=c[0],s=c[1];return Object(n.useEffect)((function(){localStorage.setItem("items",JSON.stringify(a))}),[a]),Object(i.jsx)(y.Provider,{value:{items:a,itemDispatch:s},children:e.children})},A=function(){var e=Object(n.useContext)(l).time,t=Object(n.useContext)(x),c=t.modals,a=t.dispatch,s=Object(n.useContext)(y),o=s.items,j=s.itemDispatch,O=Object(n.useState)(""),u=Object(d.a)(O,2),h=u[0],f=u[1];function v(e){return function(){return a({type:"SHOW_MODAL",id:e})}}function g(e){f(e),j({type:"CHANGE_PROJECT",selected:e})}return document.getElementById("base").setAttribute("data-theme",o.theme),Object(i.jsxs)("header",{children:[Object(i.jsxs)("div",{className:"organizer",children:[Object(i.jsx)("select",{name:"projects",id:"projects",onChange:function(e){return g(e.target.value)},value:h,children:0!==Object.keys(o.projects).length?Object.keys(o.projects).map((function(e){return Object(i.jsx)("option",{value:e,children:e},e)})):Object(i.jsx)("option",{children:"Create new project"})}),Object(i.jsx)("i",{className:"bx bx-book-add bx-tada-hover",id:"add",onClick:v("addmodal"),title:"Add Project"}),0!==Object.keys(o.projects).length&&Object(i.jsx)("i",{className:"bx bx-trash-alt bx-tada-hover",id:"trashproject",onClick:function(){if(!0===window.confirm("You are going to delete a project")){var e=Object(r.a)({},o),t=document.getElementById("projects").value.toString(),c=o.projectList.filter((function(e){return e!==t})),n=e.projects[t].tasks;n.length>0&&n.forEach((function(t){var c=e.columns[t].todoIds;c.length>0&&c.forEach((function(t){delete e.todos[t]})),delete e.columns[t]})),delete e.projects[t];var a=e.columns,s=e.todos,d=e.projects;j({type:"REMOVE_PROJECT",newProjectList:c,newColumns:a,newTodos:s,newProjects:d}),o.projectList.length>=2?g(o.projectList[1]):alert("No More Projects")}}})]}),Object(i.jsx)("div",{className:"title",children:Object(i.jsx)("a",{children:"Project To Note"})}),Object(i.jsxs)("div",{className:"information",children:[Object(i.jsx)("input",{type:"checkbox",id:"switch",onChange:function(){!0===document.getElementById("switch").checked?j({type:"CHANGE_THEME",theme:"dark"}):j({type:"CHANGE_THEME",theme:"light"})},checked:"dark"===o.theme}),Object(i.jsx)("label",{for:"switch",children:"Toggle"}),Object(i.jsx)("i",{className:"bx bxs-help-circle",id:"help",onClick:v("helpmodal"),title:"Help"}),Object(i.jsx)("a",{children:e})]}),Object(i.jsx)(b,{isOpen:c[0].display,onRequestClose:v("addmodal"),handleAdd:function(e,t,c){j({type:"ADD_PROJECT",name:t,desc:c}),a({type:"SHOW_MODAL",id:"addmodal"}),g(t),e.preventDefault()}}),Object(i.jsx)(m,{isOpen:c[1].display,onRequestClose:v("helpmodal")}),Object(i.jsx)(p,{isOpen:c[2].display,onRequestClose:v("settingsmodal")})]})},D=c(6),T=function(e){var t=Object(n.useContext)(y),c=t.items,a=t.itemDispatch,s=Object(n.useState)(e.columnname.id),o=Object(d.a)(s,2),l=o[0];o[1];return console.log(e.task.id),Object(i.jsx)(D.b,{draggableId:e.task.id,index:e.index,children:function(t,n){return Object(i.jsxs)("div",Object(r.a)(Object(r.a)({className:"todo-item"},t.draggableProps),{},{ref:t.innerRef,isDragging:n.isDragging,children:[Object(i.jsx)("i",Object(r.a)({className:"bx bx-grid-vertical",id:"dragicon",title:"Drag"},t.dragHandleProps)),Object(i.jsx)("div",{children:Object(i.jsx)("h4",{children:e.task.name})}),Object(i.jsxs)("div",{children:[Object(i.jsx)("i",{className:"bx bx-task bx-tada-hover",id:"checktask",title:"Complete Task"}),Object(i.jsx)("i",{className:"bx bx-task-x bx-tada-hover",id:"deletetask",title:"Remove Task",onClick:function(){return function(e){var t=Object.keys(c.todos).filter((function(t){return t!==e})).reduce((function(e,t){return e[t]=c.todos[t],e}),{}),n=l,s=c.columns[n].todoIds.filter((function(t){return t!==e}));console.log(s),a({type:"REMOVE_TODO",newTodos:t,columnid:n,newColumn:s})}(e.task.id)}})]})]}))}})};u.a.setAppElement("#root");var w=function(e){var t=Object(n.useState)(""),c=Object(d.a)(t,2),a=c[0],s=c[1],o=Object(n.useState)(""),r=Object(d.a)(o,2),l=r[0],j=r[1];return Object(i.jsxs)(u.a,{isOpen:e.isOpen,onRequestClose:e.onRequestClose,className:"addtaskmodal",children:[Object(i.jsx)("h1",{children:"Add Task"}),Object(i.jsxs)("form",{onSubmit:function(t){e.passTodo(t,a,l),s(""),j("")},children:[Object(i.jsxs)("div",{children:[Object(i.jsx)("label",{children:"Task Name:"}),Object(i.jsx)("input",{type:"text",onChange:function(e){s(e.target.value)},required:!0,maxlength:"25"})]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("label",{children:"Task Description:"}),Object(i.jsx)("textarea",{required:!0,onChange:function(e){j(e.target.value)}})]}),Object(i.jsx)("button",{children:"Add task"})]})]})},N=function(e){var t=Object(n.useContext)(x),c=t.modals,a=t.dispatch,s=Object(n.useContext)(y),o=s.items,l=s.itemDispatch,j=Object(n.useState)(""),O=Object(d.a)(j,2),u=O[0],b=O[1];function m(e,t,c){!function(e,t,c,n){l({type:"ADD_TODO",name:t,desc:c,columnname:n}),a({type:"SHOW_MODAL",id:"addtodomodal"}),e.preventDefault()}(e,t,c,o.selectedTask)}function p(){var e=u,t=document.getElementById("projects").value.toString(),c=Object.keys(o.columns).filter((function(t){return t!==e})).reduce((function(e,t){return e[t]=o.columns[t],e}),{}),n=o.columnOrder.filter((function(t){return t!==e})),a=o.projects[t].tasks.filter((function(t){return t!==e})),s=o,r=s.columns[u].todoIds;r.length>0&&r.forEach((function(e){delete s.todos[e]})),delete s.columns[u];var d=s.todos;l({type:"REMOVE_TASK",newColumn:c,newColumnOrder:n,project:t,newTasks:a,newTodos:d})}return console.log(e.index),Object(i.jsx)(D.b,{draggableId:e.columnname.id,index:e.index,children:function(t){return Object(i.jsxs)("div",Object(r.a)(Object(r.a)({className:"task-container",onMouseDown:function(){b(e.columnname.id)}},t.draggableProps),{},{ref:t.innerRef,children:[Object(i.jsxs)("div",Object(r.a)(Object(r.a)({className:"top"},t.dragHandleProps),{},{children:[Object(i.jsx)("div",{className:"dragicon"}),Object(i.jsxs)("div",{children:[Object(i.jsxs)("p",{style:{display:"inline-block"},children:[e.columnname.name," "]}),Object(i.jsx)("i",{className:"bx bx-edit bx-tada-hover",id:"edit"})]}),Object(i.jsx)("i",{className:"bx bx-add-to-queue bx-tada-hover",id:"add",onClick:function(){l({type:"CHANGE_SELECTED_TASK",ids:u}),a({type:"SHOW_MODAL",id:"addtodomodal"})}}),Object(i.jsx)("i",{className:"bx bx-trash bx-tada-hover",id:"remove",value:e.columnname.id,onClick:p})]})),Object(i.jsx)(D.c,{droppableId:e.columnname.id,type:"task",direction:"vertical",children:function(t,c){return Object(i.jsxs)("div",Object(r.a)(Object(r.a)({className:"todo-container",ref:t.innerRef},t.droppableProps),{},{isDraggingOver:c.isDraggingOver,children:[e.task.map((function(t,c){return Object(i.jsx)(T,{task:t,index:c,columnname:e.columnname},t.id)})),t.placeholder]}))}}),Object(i.jsx)(w,{isOpen:c[3].display,onRequestClose:(n="addtodomodal",function(){return a({type:"SHOW_MODAL",id:n})}),passTodo:m})]}));var n}},e.columnname.id)},S=function(){var e=Object(n.useContext)(y),t=e.items,c=e.itemDispatch,a=Object(n.useState)(""),s=Object(d.a)(a,2),o=s[0],l=s[1];function j(e){l(e.target.value)}var O=function(e){"Enter"===e.key&&document.getElementById("addnewtask").click()};return Object(i.jsx)(D.a,{onDragEnd:function(e){var n=e.destination,a=e.source,s=e.draggableId,o=e.type;if(n&&(n.droppableId!==a.droppableId||n.index!==a.index)){if("column"===o){var d=Array.from(t.columnOrder);return d.splice(a.index,1),d.splice(n.index,0,s),void c({type:"CHANGE_ORDER_TASK",newColumnOrder:d})}var i=t.columns[a.droppableId],l=t.columns[n.droppableId];if(i!==l){var j=Array.from(i.todoIds);j.splice(a.index,1);var O=Object(r.a)(Object(r.a)({},i),{},{todoIds:j}),u=Array.from(l.todoIds);u.splice(n.index,0,s);var b=Object(r.a)(Object(r.a)({},l),{},{todoIds:u});c({type:"CHANGE_ORDER_TODO",newStart:O,newFinish:b})}else{var m=Array.from(i.todoIds);m.splice(a.index,1),m.splice(n.index,0,s);var p=Object(r.a)(Object(r.a)({},i),{},{todoIds:m});c({type:"CHANGE_ORDER_TODO_SAME",newColumn:p})}}},children:Object(i.jsx)(D.c,{droppableId:"all-column",direction:"horizontal",type:"column",children:function(e){return Object(i.jsxs)("div",Object(r.a)(Object(r.a)({className:"main-container"},e.droppableProps),{},{ref:e.innerRef,children:[t.columnOrder.map((function(e,c){var n=t.columns[e],a=n.todoIds.map((function(e){return t.todos[e]}));return Object(i.jsx)(N,{task:a,columnname:n,index:c})})),0!==Object.keys(t.projects).length&&Object(i.jsxs)("div",{className:"addtask",children:[Object(i.jsx)("input",{type:"text",onChange:j,value:o,onKeyPress:O,placeholder:"Enter Task Name"}),Object(i.jsx)("button",{onClick:function(){return function(e,t){0===e.length?alert("Enter Task Name!"):(l(""),c({type:"ADD_TASK",name:e,project:t}))}(o,t.displayedProject)},id:"addnewtask",children:"Add new Task"})]}),e.placeholder]}))}})})};var R=function(){return Object(i.jsx)("div",{className:"App",children:Object(i.jsx)(k,{children:Object(i.jsx)(f,{children:Object(i.jsxs)(j,{children:[Object(i.jsx)(A,{}),Object(i.jsx)(S,{})]})})})})};o.a.render(Object(i.jsx)(a.a.StrictMode,{children:Object(i.jsx)(R,{})}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.d1a33cc5.chunk.js.map